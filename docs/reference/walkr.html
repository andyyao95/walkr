<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>The walkr package. — walkr • walkr</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="The walkr package. — walkr" />

<meta property="og:description" content="

Packagewalkr
Type:Package
Version:0.3.1
Date:2015-07-14
License:GPL-3



Given \(Ax = b\), walkr samples points from the intersection of 
\(Ax = b\) with the n-simplex (\(\sum x = 1\), \(x_i \ge 0\)). The 
Ax = b must be underdetermined, otherwise there is an unique solution
and there will be no sampling." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">walkr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/summary.html">Package Summary</a>
    </li>
    <li>
      <a href="../articles/walkr.pdf">Full Paper</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/andyyao95/walkr">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>The walkr package.</h1>
    <small class="dont-index">Source: <a href='https://github.com/andyyao95/walkr/blob/master/R/walkr-package.R'><code>R/walkr-package.R</code></a>, <a href='https://github.com/andyyao95/walkr/blob/master/R/walkr.R'><code>R/walkr.R</code></a></small>
    <div class="hidden name"><code>walkr.Rd</code></div>
    </div>

    <div class="ref-description">
    
    
<table class='table'>
<tr><td>Package</td><td>walkr</td></tr>
<tr><td>Type:</td><td>Package</td></tr>
<tr><td>Version:</td><td>0.3.1</td></tr>
<tr><td>Date:</td><td>2015-07-14</td></tr>
<tr><td>License:</td><td>GPL-3</td></tr>
</table>


<p>Given \(Ax = b\), <code>walkr</code> samples points from the intersection of 
\(Ax = b\) with the n-simplex (\(\sum x = 1\), \(x_i \ge 0\)). The 
Ax = b must be underdetermined, otherwise there is an unique solution
and there will be no sampling.</p>
    
    </div>

    <pre class="usage"><span class='fu'>walkr</span>(<span class='no'>A</span>, <span class='no'>b</span>, <span class='no'>points</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"dikin"</span>, <span class='kw'>thin</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>burn</span> <span class='kw'>=</span> <span class='fl'>0.5</span>,
  <span class='kw'>chains</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>ret.format</span> <span class='kw'>=</span> <span class='st'>"matrix"</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>A</th>
      <td><p>is the lhs of the matrix equation A</p></td>
    </tr>
    <tr>
      <th>b</th>
      <td><p>is the rhs of the matrix equation b</p></td>
    </tr>
    <tr>
      <th>points</th>
      <td><p>is the number of points we want to sample</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>is the MCMC sampling method. Please enter "hit-and-run", "dikin", or "
optimized-dikin"</p></td>
    </tr>
    <tr>
      <th>thin</th>
      <td><p>every thin-th point is stored</p></td>
    </tr>
    <tr>
      <th>burn</th>
      <td><p>the first burn points are deleted</p></td>
    </tr>
    <tr>
      <th>chains</th>
      <td><p>is the number of chains we run</p></td>
    </tr>
    <tr>
      <th>ret.format</th>
      <td><p>is the format in which walkr returns the answer. Please
enter "list" (of chains) or "matrix".</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Either a list of chains (with each chain as a matrix of points) or 
        a matrix containing all the points. Each column is a point sampled.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The <code>walkr</code> package samples points using MCMC random walks from the 
intersection of the \(N\)-Simplex with \(M\) hyperplanes. Mathematically
speaking, the sampling space is all vectors \(x\) that satisfy
\(Ax = b\), \(\sum x  = 1\), and \(x_i \ge 0\). The sampling
algorithms implemented are hit-and-run and Dikin Walk. <code>walkr</code> also 
provides tools to examine and visualize the convergence properties of the 
random walks.</p>
<p>The main function of the package is <code>walkr</code>. The user specifies \(A\) and
\(b\) in \(Ax = b\), and the <code>walkr</code> function samples points 
from the complete solution to \(Ax=b\) intersected with the \(N\)-simplex. 
The user can choose either <code>"dikin"</code> or <code>"hit-and-run"</code> as the 
sampling method, and the function also provides other MCMC parameters 
such as thinning and burning.</p>
<p>Before the sampling, walkr internally performs the affine transformation
which takes the complete solution of \(Ax = b\) and that intersected
with the unit simplex into a space parametrized by coefficients, which 
we call the "alpha-space". The specific set of procedures taken is 
written in detail in the vignette. Essentially, the space is transformed,
the sampling takes place in the transformed space, and in the end 
<code>walkr</code> transforms back into the original coordinate system 
and returns the result. This transformation is affine, so the uniformity 
and mixing properties of the MCMC algorithms are not affected. 
The current MCMC sampling methods supported are "hit-and-run", 
"dikin" and "optimized-dikin" (a Rcpp boosted version for speed).</p>
<p>1) Hit-and-run is computationally less expensive and also 
guarantees uniformity asympotically with complexity of O(n^3)
points with respect to dimension n. However, in real practice, 
as dimensions ramp up, the mixing of hit-and-run is poor compared 
to Dikin. Thus, a lot of thinning would be needed as dimension
ramps up.</p>
<p>2) Dikin Walk is a nearly uniform method known for its very strong 
mixing properties. However, each Dikin step is much more 
computationally expensive than hit-and-run, so it takes more time 
to sample every point. Thus, the "dikin" method
uses RcppEigen to speed up the core computationally 
expensive operations in the algorithm.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## 4D constraint</span>
<span class='no'>A</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>2</span>,<span class='fl'>0</span>,<span class='fl'>1</span>,<span class='fl'>3</span>), <span class='kw'>ncol</span> <span class='kw'>=</span> <span class='fl'>4</span>)
<span class='no'>b</span> <span class='kw'>&lt;-</span> <span class='fl'>0.5</span>
<span class='no'>sampled_points</span> <span class='kw'>&lt;-</span> <span class='fu'>walkr</span>(<span class='kw'>A</span> <span class='kw'>=</span> <span class='no'>A</span>, <span class='kw'>b</span> <span class='kw'>=</span> <span class='no'>b</span>, <span class='kw'>points</span> <span class='kw'>=</span> <span class='fl'>100</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"dikin"</span>)</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Andy Yao, David Kane.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


